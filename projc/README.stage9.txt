a) Reused Code: I used the supplied solution for Project B. I also added a function for computing tcp checksum: void compute_tcp_checksum(struct iphdr *pIph, unsigned short *ipPayload) from this website:http://www.roman10.net/2011/11/27/how-to-calculate-iptcpudp-checksumpart-2-implementation/

b) I completed this stage and it works for ICMP as described in the instructions. It can be glitchy with TCP. If you have a TCP flow and a router gets killed, the proxy will rebuild the circuit, but the real world server will now likely be receiving packets from an unrecognized router, so the flow will no longer work.  For all stages, there is an issue where sometimes the first time running the program after running all the set up commands (tunnel setup, iptable commands, etc) it doesn't work correctly, sebsequent runs seem to work fine. The first couple of times the program recieves packets from the tunnel that I didn't send and I'm not sure why.
